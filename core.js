(function(e){function t(t){var i=e(this).data(m),s=h[i.t],o=s.g[i.i];o.ox=t.pageX;o.l=o[P]()[D];a[A](O+m,r)[A](M+m,n);R[N](x+"*{cursor:"+s.opt.dragCursor+B+H);o[k](s.opt.draggingClass);c=o;if(s.c[i.i].l)for(t=0;t<s.ln;t++)i=s.c[t],i.l=f,i.w=i[w]();return f}function n(t){a.unbind(O+m).unbind(M+m);e("head :last-child").remove();if(c){c[C](c.t.opt.draggingClass);var n=c.t,r=n.opt.onResize;c.x&&(i(n,c.i,1),s(n),r&&(t[_]=n[0],r(t)));n.p&&q&&o(n);c=l}}function r(e){if(c){var t=c.t,n=e.pageX-c.ox+c.l,r=t.opt.minWidth,o=c.i,u=1.5*t.cs+r+t.b,a=o==t.ln-1?t.w-u:t.g[o+1][P]()[D]-t.cs-r,r=o?t.g[o-1][P]()[D]+t.cs+r:u,n=y.max(r,y.min(a,n));c.x=n;c.css(D,n+v);if(t.opt.liveDrag&&(i(t,o),s(t),n=t.opt.onDrag))e[_]=t[0],n(e)}return f}function i(e,t,n){var r=c.x-c.l,i=e.c[t],s=e.c[t+1],o=i.w+r,r=s.w-r;i[w](o+v);s[w](r+v);e.cg.eq(t)[w](o+v);e.cg.eq(t+1)[w](r+v);if(n)i.w=o,s.w=r}function s(e){e.gc[w](e.w);for(var t=0;t<e.ln;t++){var n=e.c[t];e.g[t].css({left:n.offset().left-e.offset()[D]+n.outerWidth()+e.cs/2+v,height:e.opt.headerOnly?e.c[0].outerHeight():e.outerHeight()})}}function o(e,t){var n,r=0,i=0,s=[];if(t)if(e.cg[L](w),e.opt.flush)q[e.id]="";else{for(n=q[e.id].split(";");i<e.ln;i++)s[T](100*n[i]/n[e.ln]+"%"),t.eq(i).css(w,s[i]);for(i=0;i<e.ln;i++)e.cg.eq(i).css(w,s[i])}else{q[e.id]="";for(i in e.c)n=e.c[i][w](),q[e.id]+=n+";",r+=n;q[e.id]+=r}}function u(n){var r=">thead>tr>",i='"></div>',u=">tbody>tr:first>",a=">tr:first>",f="td",l="th",c=n.find(r+l+","+r+f);c.length||(c=n.find(u+l+","+a+l+","+u+f+","+a+f));n.cg=n.find("col");n.ln=c.length;n.p&&q&&q[n.id]&&o(n,c);c.each(function(r){var s=e(this),o=e(n.gc[N](S+"CRG"+i)[0].lastChild);o.t=n;o.i=r;o.c=s;s.w=s[w]();n.g[T](o);n.c[T](s);s[w](s.w)[L](w);if(r<n.ln-1)o.mousedown(t)[N](n.opt.gripInnerHtml)[N](S+m+'" style="cursor:'+n.opt.hoverCursor+i);else o[k]("CRL")[C]("CRG");o.data(m,{i:r,t:n[E](d)})});n.cg[L](w);s(n);n.find("td, th").not(c).not(I+"th, table td").each(function(){e(this)[L](w)})}var a=e(document),f=!1,l=null,c=l,h=[],p=0,d="id",v="px",m="CRZ",g=parseInt,y=Math,b=e.browser.msie,w="width",E="attr",S='<div class="',x="<style type='text/css'>",T="push",N="append",C="removeClass",k="addClass",L="removeAttr",A="bind",O="mousemove.",M="mouseup.",_="currentTarget",D="left",P="position",H="}</style>",B="!important;",j=":0px"+B,F="resize",I="table",q,R=e("head")[N](x+".CRZ{table-layout:fixed;}.CRZ td,.CRZ th{padding-"+D+j+"padding-right"+j+"overflow:hidden}.CRC{height:0px;"+P+":relative;}.CRG{margin-left:-5px;"+P+":absolute;z-index:5;}.CRG .CRZ{"+P+":absolute;background-color:red;filter:alpha(opacity=1);opacity:0;width:10px;height:100%;top:0px}.CRL{"+P+":absolute;width:1px}.CRD{ border-left:1px dotted black"+H);try{q=sessionStorage}catch(U){}e(window)[A](F+"."+m,function(){for(e in h){var e=h[e],t,n=0;e[C](m);if(e.w!=e[w]()){e.w=e[w]();for(t=0;t<e.ln;t++)n+=e.c[t].w;for(t=0;t<e.ln;t++)e.c[t].css(w,y.round(1e3*e.c[t].w/n)/10+"%").l=1}s(e[k](m))}});e.fn.extend({colResizable:function(t){t=e.extend({draggingClass:"CRD",gripInnerHtml:"",liveDrag:f,minWidth:15,headerOnly:f,hoverCursor:"e-"+F,dragCursor:"e-"+F,postbackSafe:f,flush:f,marginLeft:l,marginRight:l,disable:f,onDrag:l,onResize:l},t);return this.each(function(){var n=t,r=e(this);if(n.disable){if(r=r[E](d),(n=h[r])&&n.is(I))n[C](m).gc.remove(),delete h[r]}else{var i=r.id=r[E](d)||m+p++;r.p=n.postbackSafe;if(r.is(I)&&!h[i])r[k](m)[E](d,i).before(S+'CRC"/>'),r.opt=n,r.g=[],r.c=[],r.w=r[w](),r.gc=r.prev(),n.marginLeft&&r.gc.css("marginLeft",n.marginLeft),n.marginRight&&r.gc.css("marginRight",n.marginRight),r.cs=g(b?this.cellSpacing||this.currentStyle.borderSpacing:r.css("border-spacing"))||2,r.b=g(b?this.border||this.currentStyle.borderLeftWidth:r.css("border-"+D+"-"+w))||1,h[i]=r,u(r)}})}})})(jQuery)
